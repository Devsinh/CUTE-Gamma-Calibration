The first iteration of the final server code, made completely on surface
